(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf318440"],{"36f8":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Poptip",{attrs:{trigger:"hover",title:"图片预览",placement:"right",width:"350"}},[i("Input",{style:{width:t.width},attrs:{placeholder:"可直接填入网络图片链接",clearable:""},on:{"on-change":t.handleChange},model:{value:t.picUrl,callback:function(e){t.picUrl=e},expression:"picUrl"}}),t._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[i("img",{staticStyle:{width:"100%",margin:"0 auto",display:"block"},attrs:{src:t.picUrl,alt:"无效的图片链接"}}),t._v(" "),i("a",{staticStyle:{"margin-top":"5px","text-align":"right",display:"block"},on:{click:function(e){t.viewImage=!0}}},[t._v("查看大图")])])],1),t._v(" "),i("Upload",{ref:"up",staticClass:"upload",attrs:{action:t.uploadFileUrl,headers:t.accessToken,"on-success":t.handleSuccess,"on-error":t.handleError,format:["jpg","jpeg","png","gif","bmp"],accept:".jpg, .jpeg, .png, .gif, .bmp","max-size":5120,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.beforeUpload,"show-upload-list":!1}},[i("Button",{attrs:{loading:t.loading,icon:"ios-cloud-upload-outline"}},[t._v("上传图片")])],1),t._v(" "),i("Modal",{attrs:{title:"图片预览",styles:{top:"30px"},draggable:""},model:{value:t.viewImage,callback:function(e){t.viewImage=e},expression:"viewImage"}},[i("img",{staticStyle:{width:"100%",margin:"0 auto",display:"block"},attrs:{src:t.picUrl,alt:"无效的图片链接"}}),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{on:{click:function(e){t.viewImage=!1}}},[t._v("关闭")])],1)])],1)},a=[],o=(i("6b54"),i("7f7f"),i("365c")),l={name:"uploadPicInput",props:{width:{type:String,default:"200px"}},data:function(){return{accessToken:{},picUrl:"",loading:!1,viewImage:!1,uploadFileUrl:o["bb"]}},methods:{init:function(){this.accessToken={accessToken:this.getStore("accessToken")}},handleFormatError:function(t){this.loading=!1,this.$Notice.warning({title:"不支持的文件格式",desc:"所选文件‘ "+t.name+" ’格式不正确, 请选择 .jpg .jpeg .png .gif .bmp格式文件"})},handleMaxSize:function(t){this.loading=!1,this.$Notice.warning({title:"文件大小过大",desc:"所选文件‘ "+t.name+" ’大小过大, 不得超过 5M."})},beforeUpload:function(){return this.loading=!0,!0},handleSuccess:function(t,e){this.loading=!1,!0===t.success?(e.url=t.result,this.picUrl=t.result,this.$emit("on-change",this.picUrl)):this.$Message.error(t.message)},handleError:function(t,e,i){this.loading=!1,this.$Message.error(t.toString())},handleChange:function(t){this.$emit("on-change",this.picUrl)},setPicUrl:function(t){this.picUrl=t,this.$emit("on-change",this.picUrl)}},created:function(){this.init()}},s=l,c=(i("3ca0"),i("2877")),r=Object(c["a"])(s,n,a,!1,null,null,null);e["default"]=r.exports},"3ca0":function(t,e,i){"use strict";var n=i("8a79"),a=i.n(n);a.a},"8a79":function(t,e,i){}}]);