(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-662abd24"],{"1c57":function(t,e,a){},"2a34":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Poptip",{attrs:{trigger:"click",placement:"right",title:"选择部门",width:"250"}},[a("div",{staticStyle:{display:"flex"}},[a("Input",{staticStyle:{"margin-right":"10px"},style:{width:t.width},attrs:{readonly:"",placeholder:t.placeholder},model:{value:t.departmentTitle,callback:function(e){t.departmentTitle=e},expression:"departmentTitle"}}),t._v(" "),a("Button",{attrs:{icon:"md-trash"},on:{click:t.clearSelect}},[t._v("清空已选")])],1),t._v(" "),a("div",{staticClass:"tree-bar",attrs:{slot:"content"},slot:"content"},[a("Input",{attrs:{suffix:"ios-search",placeholder:"输入部门名搜索",clearable:""},on:{"on-change":t.searchDep},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),t._v(" "),a("Tree",{attrs:{data:t.dataDep,"load-data":t.loadData,multiple:t.multiple},on:{"on-select-change":t.selectTree}}),t._v(" "),t.depLoading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)])],1)},i=[],s=(a("ac6a"),a("365c")),c={name:"departmentTreeChoose",props:{multiple:{type:Boolean,default:!1},width:{type:String,default:"200px"},placeholder:{type:String,default:"点击选择部门"}},data:function(){return{depLoading:!1,departmentTitle:"",searchKey:"",dataDep:[],selectDep:[],department:[]}},methods:{initDepartmentData:function(){var t=this;Object(s["Q"])().then((function(e){!0===e.success&&(e.result.forEach((function(t){t.isParent&&(t.loading=!1,t.children=[]),-1===t.status&&(t.title="[已禁用] "+t.title,t.disabled=!0)})),t.dataDep=e.result)}))},loadData:function(t,e){Object(s["R"])(t.id).then((function(t){!0===t.success&&(t.result.forEach((function(t){t.isParent&&(t.loading=!1,t.children=[]),-1===t.status&&(t.title="[已禁用] "+t.title,t.disabled=!0)})),e(t.result))}))},searchDep:function(){var t=this;this.searchKey?(this.depLoading=!0,Object(s["W"])({title:this.searchKey}).then((function(e){t.depLoading=!1,e.success&&(e.result.forEach((function(t){-1===t.status&&(t.title="[已禁用] "+t.title,t.disabled=!0)})),t.dataDep=e.result)}))):this.initDepartmentData()},selectTree:function(t){var e=[],a="";t.forEach((function(t){e.push(t.id),a=""==a?t.title:a+"、"+t.title})),this.departmentId=e,this.departmentTitle=a,this.$emit("on-change",this.departmentId)},clearSelect:function(){this.departmentId=[],this.departmentTitle="",this.initDepartmentData(),this.$emit("on-change",this.departmentId)},setSelectDep:function(t,e){this.departmentId=t,this.departmentTitle=e,this.$emit("on-change",this.departmentId)}},created:function(){this.initDepartmentData()}},l=c,r=(a("54bb"),a("2877")),d=Object(r["a"])(l,n,i,!1,null,null,null);e["default"]=d.exports},"54bb":function(t,e,a){"use strict";var n=a("1c57"),i=a.n(n);i.a}}]);